# Kage
[![Forged with ðŸ](https://a.b-b.top/badge.svg?repo=Kage&label=Forged%20with%20ðŸ&background_color=4caf50&background_color2=66bb6a&utm_source=github&utm_medium=readme&utm_campaign=badge)](https://a.b-b.top)

Kage is a PHP code encryption and protection tool that helps secure your PHP source code by encrypting it and providing a secure runtime environment for execution.

## Project Structure

```
Kage/
â”œâ”€â”€ src/                    # Source code files
â”‚   â”œâ”€â”€ encoder.php        # Main encoder implementation
â”‚   â”œâ”€â”€ source.php         # Source code handling
â”‚   â”œâ”€â”€ php_encoder.php    # PHP-specific encoding utilities
â”‚   â”œâ”€â”€ decrypt_string.php # String decryption utilities
â”‚   â””â”€â”€ create_self_decrypt.php # Self-decrypting file generator
â”œâ”€â”€ tests/                  # Test files
â”‚   â”œâ”€â”€ test_source.php
â”‚   â”œâ”€â”€ test_php_encoder.php
â”‚   â”œâ”€â”€ test_kage_extension.php
â”‚   â”œâ”€â”€ test_source_encrypted.php
â”‚   â”œâ”€â”€ test_ast.php
â”‚   â””â”€â”€ test_vm.php
â”œâ”€â”€ logs/                   # Log files
â”‚   â”œâ”€â”€ php_errors.log
â”‚   â””â”€â”€ kage_extension_errors.log
â”œâ”€â”€ config/                 # Configuration files
â”‚   â””â”€â”€ php.ini
â”œâ”€â”€ build/                  # Build artifacts
â”‚   â””â”€â”€ debug_raw_file_content.bin
â”œâ”€â”€ docs/                   # Documentation
â”œâ”€â”€ c_extension/           # C extension for enhanced performance
â””â”€â”€ artifacts/             # Additional build artifacts
```

## Features

- PHP source code encryption
- Self-decrypting file generation
- Secure runtime execution
- C extension support for enhanced performance
- Comprehensive test suite

## Requirements

- PHP 7.4 or higher
- PHP C extension (optional, for enhanced performance)

## Installation

1. Clone the repository:
```bash
git clone https://github.com/yourusername/kage.git
cd kage
```

2. Install dependencies (if any):
```bash
composer install
```

3. Configure PHP:
   - Copy `config/php.ini` to your PHP configuration directory
   - Enable required PHP extensions

## Building

The project includes a C extension for enhanced performance. To build it, navigate to the `c_extension` directory and use the provided shell scripts.

1.  **Build the C Extension:**
    ```bash
    cd c_extension
    ./build.sh
    ```
    This script will compile the C extension.

2.  **Clean Build Artifacts:**
    ```bash
    cd c_extension
    ./cleanup.sh
    ```
    This script will remove the build artifacts generated by `build.sh`.

## Usage

### Basic Usage

```php
require_once 'src/encoder.php';

// Create an instance of the encoder
$encoder = new Encoder();

// Encrypt your PHP code
$encrypted = $encoder->encrypt($sourceCode);

// Save the encrypted code
file_put_contents('encrypted.php', $encrypted);
```

### Creating Self-Decrypting Files

```php
require_once 'src/create_self_decrypt.php';

// Create a self-decrypting file
$selfDecrypt = new SelfDecrypt();
$selfDecrypt->create('source.php', 'output.php');
```

## Testing

Run the test suite:
```bash
php tests/test_php_encoder.php
```

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Security

If you discover any security related issues, please email security@yourdomain.com instead of using the issue tracker.

## Support

For support, please open an issue in the GitHub repository or contact support@yourdomain.com.
