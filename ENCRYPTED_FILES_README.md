# üîê –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ Self-Decrypting PHP –§–∞–π–ª—ã

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö self-decrypting PHP —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é Kage bytecode encryption.

## üìÅ –§–∞–π–ª—ã

- **`create_encrypted_file.php`** - –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **`encrypted_example.php`** - –†—É—á–Ω–æ–π –ø—Ä–∏–º–µ—Ä –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- **`generated_encrypted_file.php`** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
php create_encrypted_file.php
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π PHP –∫–æ–¥ —Å –¥–∞–Ω–Ω—ã–º–∏
- –®–∏—Ñ—Ä—É–µ—Ç –µ–≥–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–π—Ç–∫–æ–¥–∞
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç self-decrypting —Ñ–∞–π–ª

### 2. –ó–∞–ø—É—Å–∫ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
php generated_encrypted_file.php
```

–§–∞–π–ª —Å–∞–º —Ä–∞—Å—à–∏—Ñ—Ä—É–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–∫—Ä—ã—Ç—ã–π –∫–æ–¥.

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
1. PHP –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ Zend –æ–ø–∫–æ–¥—ã
2. –û–ø–∫–æ–¥—ã —à–∏—Ñ—Ä—É—é—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º (XOR/AES/ROTATE)
3. –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –∏ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è base64
4. –°–æ–∑–¥–∞–µ—Ç—Å—è PHP —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–æ—á–Ω—ã–º –∫–æ–¥–æ–º

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
1. –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ–¥ + –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è
3. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π PHP –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `eval()`
4. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–µ–Ω –≤ —Ñ–∞–π–ª–µ

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–π—Ç–∫–æ–¥–∞, –∞ –Ω–µ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ Runtime —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –±–µ–∑ –∫–ª—é—á–µ–π –≤ –ø–∞–º—è—Ç–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üîë –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ
- üîÑ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- üîê –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –∫–ª—é—á–∏
- üö´ –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç–µ –∫–ª—é—á–∏ –≤ git

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
<?php
// –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥
$secret_code = '<?php echo "SECRET DATA"; ?>';

// –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
$encrypted = kage_encrypt_c($secret_code, $key);

// –°–æ–∑–¥–∞–Ω–∏–µ self-decrypting —Ñ–∞–π–ª–∞
$encrypted_file = '<?php
$encrypted_data = "' . $encrypted . '";
$decrypted = kage_decrypt_c($encrypted_data, "' . $key . '");
eval(trim($decrypted));
?>';
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

```bash
php tests/test_bytecode_encryption.php
php tests/test_integration.php
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Kage
- –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 32 –±–∞–π—Ç–∞ (256 –±–∏—Ç)
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –§–∞–π–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å PHP —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ:
- –í—ã–ø–æ–ª–Ω—è—é—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥
- –ù–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
- –ó–∞—â–∏—â–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ Zend VM –±–∞–π—Ç–∫–æ–¥–∞
- –°–∞–º–æ—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
